<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIEEG - Electrónica</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="img/sieeglogo.jpg" alt="SIEEG" height="30" class="d-inline-block align-text-top">                
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/buscar-cfdi">Buscar CFDI</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/crear-cfdi">Crear CFDI</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenido Principal -->
    <div class="main-container">
        <!-- Formulario de consulta -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="responsive-heading mb-0">Parámetros de Consulta</h5>
            </div>
            <div class="card-body">
                <form id="apiForm" class="needs-validation" novalidate>
                    <div class="grid-container">
                        <div class="form-group">
                            <label for="month" class="form-label">Mes</label>
                            <select class="form-select month-selector" id="month" required>
                                <option value="">Seleccionar mes</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor seleccione un mes.
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="year" class="form-label">Año</label>
                            <select class="form-select year-selector" id="year" required>
                                <option value="">Seleccionar año</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor seleccione un año.
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group mt-3">
                        <label for="rfc" class="form-label">RFC</label>
                        <input type="text" class="form-control" id="rfc" 
                               value="WERX631016S30" required
                               pattern="^[A-ZÑ&]{3,4}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])[A-Z0-9]{2}[0-9A]$"
                               title="Ingrese un RFC válido">
                        <div class="form-text responsive-text">Formato: AAAA999999AAA</div>
                        <div class="invalid-feedback">
                            Por favor ingrese un RFC válido.
                        </div>
                    </div>
                    
                    <div class="grid-container mt-3">
                        <div class="form-group">
                            <label for="page" class="form-label">Página</label>
                            <input type="number" class="form-control" id="page" 
                                   value="1" min="1" required>
                            <div class="invalid-feedback">
                                El número de página debe ser mayor a 0.
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="perPage" class="form-label">Registros por página</label>
                            <input type="number" class="form-control" id="perPage" 
                                   value="15" min="1" max="100" required>
                            <div class="invalid-feedback">
                                Ingrese un número entre 1 y 100.
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary">
                            <span class="me-2">Consultar Facturas</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados -->
        <div class="card">
            <div class="card-header">
                <h5 class="responsive-heading mb-0">Resultados</h5>
            </div>
            <div class="card-body">
                <div id="results">
                    <div class="alert alert-info">
                        <div class="responsive-text">
                            Los resultados de la consulta aparecerán aquí.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <small class="responsive-text">&copy; 2024 SIEEG - Electrónica</small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/app.js"></script>
</body>
</html> 